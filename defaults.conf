# -*- sh -*-
#test_ansible_version="v1.8.1"

# Development Ansible release
test_ansible_version="devel"


# Some parts of the system on Travis-CI (Ubuntu Precise) are outdated, here
# you can selectively upgrade them if you need
upgrade_packages () {
    local package_list="${@}"
    local dist="saucy"
    if [ -n "${ROLESPEC_TRAVIS}" ] ; then
	echo "Upgrade selected packages to ${dist} versions"
	echo "deb http://us.archive.ubuntu.com/ubuntu/ ${dist} main restricted universe multiverse" | sudo tee /etc/apt/sources.list.d/${dist}.list
	sudo apt-get -qq update
	sudo apt-get -yq install -t ${dist} ${@}

	# Disable saucy to not interfere with other packages
	sudo rm -f /etc/apt/sources.list.d/${dist}.list
	sudo apt-get -qq update
    fi
}


# Upgrade some packages for all tests
upgrade_packages procps python-jinja2
